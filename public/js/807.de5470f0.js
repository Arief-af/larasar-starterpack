"use strict";(self["webpackChunklarasar"]=self["webpackChunklarasar"]||[]).push([[807],{7807:(e,o,a)=>{a.r(o),a.d(o,{default:()=>Q});var l=a(3673),n=a(2323);const t={class:"q-pa-md"},r=(0,l._)("div",{class:"q-my-lg"},"Room Table",-1),s=(0,l.Uk)(" Dark Mode "),m={class:"form-label"},d={key:0,class:"text-negative q-my-sm"};function i(e,o,a,i,u,c){const p=(0,l.up)("q-toggle"),f=(0,l.up)("q-card-section"),g=(0,l.up)("q-card"),w=(0,l.up)("q-input"),b=(0,l.up)("q-btn"),k=(0,l.up)("q-form"),v=(0,l.up)("q-td"),q=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)("div",t,[r,(0,l.Wm)(g,{class:"my-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[s,(0,l.Wm)(p,{color:"warning",dark:"",modelValue:i.darkMode,"onUpdate:modelValue":o[0]||(o[0]=e=>i.darkMode=e)},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.Wm)(g,{class:"my-card q-my-md"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{onSubmit:i.onSubmit,onReset:i.onReset,class:"q-gutter-md"},{default:(0,l.w5)((()=>[(0,l._)("div",m,[(0,l.Wm)(w,{color:"warning",modelValue:i.room.name,"onUpdate:modelValue":o[1]||(o[1]=e=>i.room.name=e),type:"text",label:"Room Name"},null,8,["modelValue"]),i.errors.name?((0,l.wg)(),(0,l.iD)("div",d,(0,n.zw)(i.errors.name[0]),1)):(0,l.kq)("",!0)]),(0,l._)("div",null,[(0,l.Wm)(b,{class:"q-ma-sm",label:"Submit",type:"submit",color:"warning"}),(0,l.Wm)(b,{class:"q-ma-sm",label:"Reset",type:"reset",color:"warning",flat:""})])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1}),(0,l.Wm)(q,{title:"Simple",rows:i.rooms,columns:i.columns,"row-key":"name",dense:""},{"body-cell-actions":(0,l.w5)((e=>[(0,l.Wm)(v,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(b,{dense:"",round:"",flat:"",color:"warning",onClick:o=>i.editRow(e),icon:"edit"},null,8,["onClick"]),(0,l.Wm)(b,{dense:"",round:"",flat:"",color:"negative",onClick:o=>i.deleteRow(e),icon:"delete"},null,8,["onClick"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])}var u=a(8825),c=a(5474),p=a(1959),f=a(741);const g={setup(){const e=(0,f.oR)(),o=(0,l.Fl)((()=>e.state.user));let a=(0,p.iH)();a.value=o.value.dark;const n=(0,u.Z)();(0,l.YP)((()=>{1==a.value?(n.dark.set(!0),e.commit("user/darkMode",!0)):(n.dark.set(!1),e.commit("user/darkMode",!1))}));const t=(0,p.iH)([]);c.api.get("/api/room").then((e=>{t.value=e.data.data,console.log(t.value)}));const r=[{name:"name",required:!0,label:"Room",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!0},{name:"id",align:"left",label:"ID",field:"id",sortable:!0},{name:"user_id",align:"left",label:"User ID",field:"user_id",sortable:!0},{name:"username",align:"left",label:"username",field:e=>e.user.username,sortable:!0},{name:"token",align:"left",label:"Token",field:"token",sortable:!0},{name:"actions",label:"Actions",field:"",align:"center"}];function s(e,o){n.dialog({color:"warning",title:"Update room name",prompt:{model:e.name,type:"text"},cancel:!0,persistent:!0}).onOk((a=>{console.log(a),c.api.put(`/api/room/${e.id}/update`,{name:a}).then((e=>{t.value[o]=e.data.data}))})).onCancel((()=>{}))}function m(e){const o=t.value.indexOf(e.row),a=e.row;s(a,o)}function d(e){const o=t.value.indexOf(e.row);t.value.splice(o,1),c.api["delete"](`/api/room/${e.row.id}`).then((e=>{console.log(e),n.notify({message:"Room has been deleted",icon:"bolt",color:"warning"})})),console.log(e.row)}const i=(0,p.iH)([]),g=(0,p.iH)([]);function w(){c.api.post("/api/room",{name:i.value.name}).then((e=>{const a=e.data.data;a["username"]=o.value.username,t.value.push(a),i.value=[],n.notify({message:"Room created",icon:"bolt",color:"warning"})})).catch((e=>{g.value=e.response.data.errors}))}function b(){i.value=[],g.value=[]}return{darkMode:a,onReset:b,room:i,errors:g,onSubmit:w,columns:r,rooms:t,editRow:m,deleteRow:d}}};var w=a(4260),b=a(151),k=a(5589),v=a(8886),q=a(5269),R=a(4842),y=a(8240),W=a(1063),_=a(3884),h=a(7518),Z=a.n(h);const C=(0,w.Z)(g,[["render",i]]),Q=C;Z()(g,"components",{QCard:b.Z,QCardSection:k.Z,QToggle:v.Z,QForm:q.Z,QInput:R.Z,QBtn:y.Z,QTable:W.Z,QTd:_.Z})}}]);